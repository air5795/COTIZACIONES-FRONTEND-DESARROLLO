
<!-- ENCAMBEZADO DE PLANILLA ---------------------------------------------------------------------------------->
<div class="grid dashboard" >
  <div class="col-12 md:col-12 lg:6">
    <div class="perfil-empleador">
      <div class="cabezera-planilla">
        <div class="header-left">
          <h2 style="font-size: 15px; display: flex; align-items: center; font-family: 'Roboto', sans-serif; margin: 5px 0 5px;">
            <span style="background-color: #009688; color: white; padding: 6px 10px; border-radius: 4px 0 0 4px; display: flex; align-items: center;">
              N° {{ solicitudReembolso?.id_solicitud_reembolso }}
            </span>
            <span style="background-color: #018b7b; color: white; padding: 6px 10px; ">
              INCAPACIDADES 
            </span>
            <span style="background-color: #00796b; color: white; padding: 6px 10px; ">
              {{ solicitudReembolso?.mes }}
            </span>
            <span style="background-color: #00685a; color: white; padding: 6px 10px; ">
              {{ solicitudReembolso?.gestion }}
            </span>
            <span  style="background-color: #00483a; color: white; padding: 6px 10px;  ">
              {{ solicitudReembolso?.empresa?.emp_nom || 'N/A' }}
            </span>
            <span
              style="background-color: #00382a; color: white; padding: 6px 10px; border-radius: 0 4px 4px 0;">
              {{ solicitudReembolso?.tipo_empresa === 'PA' ? 'PASIVO' : 
                solicitudReembolso?.tipo_empresa === 'AP' ? 'PÚBLICA' : 
                solicitudReembolso?.tipo_empresa === 'AV' ? 'PRIVADA' : 
                solicitudReembolso?.tipo_empresa === 'VA' ? 'DECRETO SUPREMO' : 
                solicitudReembolso?.tipo_empresa || 'N/A'}}
            </span>
          </h2>

          <hr style="border: 1px solid #cacaca; margin: 4px 0;">

          <div class="list-container">
            <!-- Estado de Planilla -->
            <div [ngSwitch]="solicitudReembolso?.estado" class="list-item"
              [ngStyle]="{'background-color': getFondoEstado(solicitudReembolso?.estado || 0)}">
              <div class="estado-container" *ngSwitchCase="0">
                <span class="label">ESTADO</span>
                <span class="value" [ngStyle]="{'color': getColorEstado(solicitudReembolso?.estado || 0)}">
                  BORRADOR <i class="pi pi-question-circle"></i>
                </span>
              </div>
              <div class="estado-container" *ngSwitchCase="1">
              <span class="label">ESTADO</span>
              <span class="value" [ngStyle]="{'color': getColorEstado(solicitudReembolso?.estado || 0)}">
                PRESENTADO <i class="pi pi-send"></i>
              </span>
            </div>
            <div class="estado-container" *ngSwitchCase="2">
              <span class="label">ESTADO</span>
              <span class="value" [ngStyle]="{'color': getColorEstado(solicitudReembolso?.estado || 0)}">
                APROBADO <i class="pi pi-check"></i>
              </span>
            </div>
          </div>

          <!-- N° de Trabajadores -->
          <div class="list-item">
            <span class="label">N° de Trabajadores</span>
            <ng-container>
              <span class="value">
                 {{ totalTrabajadores }}
              </span>
            </ng-container>
          </div>

          <!-- Total Reembolso -->
          <div class="list-item">
            <span class="label">Total Reembolso</span>
            <ng-container>
              <span class="value">
                <i class="pi pi-money-bill"></i> {{ totalReembolso | number:'1.2-2' }} Bs
              </span>
            </ng-container>
          </div>
        </div>
        </div>

        <div class="header-right">
          <div class="button-container">
            <button
              pButton
              label="Trabajador"
              class="boton2"
              style="display: flex; flex-direction: column; align-items: center; font-size: 1rem; width: 120px; "
              (click)="abrirBuscarTrabajador()">
                <span class="pi pi-search" style="font-size: 2rem; padding-bottom: 10px;"></span>
                <span style="font-size: 10px;color: #ffffff;border-bottom: 1px solid white;margin-bottom: 2px;" >Agregar</span>
            </button>


            <button
              pButton
              label="Solicitud"
              class="boton5"
              style="display: flex; flex-direction: column; align-items: center; font-size: 1rem; width: 120px; "
              [disabled]="detallesReembolso.length === 0 || solicitudReembolso?.estado !== 0"
              (click)="presentarSolicitud()">
                <span class="pi pi-send" style="font-size: 2rem; padding-bottom: 10px;"></span>
                <span style="font-size: 10px;color: #ffffff;border-bottom: 1px solid white;margin-bottom: 2px;" >Presentar</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  
  
  <!-- Tabla de detalles con pestañas -->
  <div class="p-card planilla-card" style="box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">

    
    <div class="p-card-body" style="padding: 0;">
      
      <!-- Pestañas -->
      <p-tabView [(activeIndex)]="activeTabIndex">
        
        <!-- PESTAÑA RESUMEN ORIGINAL -->
        <p-tabPanel header="Resumen" leftIcon="pi pi-eye">
          <div class="dashboard-container">
            <!-- Contenedor principal de dos secciones -->
            <div class="content-grid" style="display: grid; grid-template-columns: 4fr 4fr; background-color: #f5f5f5;">
              <!-- Panel izquierdo: Tarjetas de información -->
              <div class="summary-panel">
                <!-- Diseño de tarjetas -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 15px; padding: 15px; background-color: #f5f5f5;">
                  <!-- Tarjeta: Total Trabajadores -->
                  <div style="background-color: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); overflow: hidden;">
                    <div style="padding: 15px;  border-bottom: 2px solid #80cbc4;">
                      <div style="display: flex; align-items: center; justify-content: space-between;">
                        <span style="font-weight: 600; color: #00796b; font-size: 1rem;">Total Trabajadores</span>
                        <i class="pi pi-users" style="color: #00796b; font-size: 1.5rem;"></i>
                      </div>
                    </div>
                    <div style="padding: 20px; text-align: center;">
                      <div style="font-size: 2.2rem; font-weight: 700; color: #00695c;">
                        {{ totalTrabajadores }}
                      </div>
                      <div style="color: #616161; font-size: 0.9rem; margin-top: 5px;">Trabajadores en planilla</div>
                    </div>
                  </div>
  
                  <!-- Tarjeta: Total Reembolso -->
                  <div style="background-color: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); overflow: hidden;">
                    <div style="padding: 15px;  border-bottom: 2px solid #80cbc4;">
                      <div style="display: flex; align-items: center; justify-content: space-between;">
                        <span style="font-weight: 600; color: #00796b; font-size: 1rem;">Total Reembolso</span>
                        <i class="pi pi-money-bill" style="color: #00796b; font-size: 1.5rem;"></i>
                      </div>
                    </div>
                    <div style="padding: 20px; text-align: center;">
                      <div style="font-size: 2.2rem; font-weight: 700; color: #4caf50; display: flex; align-items: center; justify-content: center; gap: 5px;">
                        {{ totalReembolso | currency:'BOB':'symbol':'1.2-2' }}
                      </div>
                      <div style="color: #616161; font-size: 0.9rem; margin-top: 5px;">Monto total a reembolsar</div>
                    </div>
                  </div>
                </div>
              </div>
  
              <!-- Panel derecho: Tabla de resumen por tipo de incapacidad -->
              <div class="summary-panel">
                <table class="data-table">
                  <thead>
                    <tr>
                      <th>
                        <i class="pi pi-tag"></i>
                        Tipo de Incapacidad
                      </th>
                      <th class="text-right">
                        <i class="pi pi-users"></i>
                        Cantidad
                      </th>
                      <th class="text-right">
                        <i class="pi pi-money-bill"></i>
                        Total Reembolso
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Filas de resumen por tipo de incapacidad -->
                    <tr>
                      <td>Enfermedad Común</td>
                      <td class="text-right">{{ totalesPorTipo.ENFERMEDAD.trabajadores }}</td>
                      <td class="text-right">{{ totalesPorTipo.ENFERMEDAD.monto | currency:'BOB':'symbol':'1.2-2' }}</td>
                    </tr>
                    <tr>
                      <td>Maternidad</td>
                      <td class="text-right">{{ totalesPorTipo.MATERNIDAD.trabajadores }}</td>
                      <td class="text-right">{{ totalesPorTipo.MATERNIDAD.monto | currency:'BOB':'symbol':'1.2-2' }}</td>
                    </tr>
                    <tr>
                      <td>Riesgo Profesional</td>
                      <td class="text-right">{{ totalesPorTipo.PROFESIONAL.trabajadores }}</td>
                      <td class="text-right">{{ totalesPorTipo.PROFESIONAL.monto | currency:'BOB':'symbol':'1.2-2' }}</td>
                    </tr>
                  </tbody>
                  <tfoot>
                    <tr>
                      <td>
                        <i class="pi pi-chart-bar"></i>
                        Totales
                      </td>
                      <td style="text-align: right;">{{ totalTrabajadores }}</td>
                      <td style="text-align: right;">{{ totalReembolso | currency:'BOB':'symbol':'1.2-2' }}</td>
                    </tr>
                  </tfoot>
                </table>
                <div *ngIf="totalTrabajadores === 0" class="empty-message">
                  <i class="pi pi-info-circle"></i>
                  No hay trabajadores agregados aún.
                </div>
              </div>
            </div>
          </div>
        </p-tabPanel>
        
        <!-- PESTAÑA ENFERMEDAD COMÚN -->
        <p-tabPanel [disabled]="detallesPorTipo.ENFERMEDAD.length === 0">
          <ng-template pTemplate="header">
            <span>ENFERMEDAD COMÚN ({{ totalesPorTipo.ENFERMEDAD.trabajadores }})</span>
          </ng-template>
          
          <p-table 
            [value]="detallesPorTipo.ENFERMEDAD"
            [loading]="cargandoDetalles"
            [paginator]="true" 
            [rows]="10"
            styleClass="p-datatable-sm p-datatable-striped tabla-enfermedad">
            
            <ng-template pTemplate="header">
              <tr style="background-color: #ff6b6b; color: white; font-size: 11px;">
                <th rowspan="2" style="text-align: center; vertical-align: middle;">N°</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">NOMBRE</th>
                <th colspan="2" style="text-align: center;">BAJA MÉDICA</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">DÍA</th>
                <th colspan="2" style="text-align: center;">LA PAZ</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>GANADO</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>DÍA</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">DÍAS<br>CBES</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>(75%)</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">OBSERVACIÓN</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;" *ngIf="solicitudReembolso?.estado === 0">ACCIONES</th>
              </tr>
              <tr style="background-color: #ffcdd2; color: #d32f2f; font-size: 10px;">
                <th style="text-align: center;">Empiezo</th>
                <th style="text-align: center;">Termino</th>
                <th style="text-align: center;">DE</th>
                <th style="text-align: center;">A</th>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="body" let-detalle let-i="rowIndex">
              <tr style="font-size: 11px;">
                <td style="text-align: center;">{{ detalle.nro }}</td>
                <td style="font-weight: 500;">{{ detalle.apellido_paterno }} {{ detalle.apellido_materno }}, {{ detalle.nombres }}</td>
                <td style="text-align: center;">{{ detalle.fecha_inicio_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.fecha_fin_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.dias_incapacidad }}</td>
                <td style="text-align: center;">{{ detalle.fecha_inicio_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.fecha_fin_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: right;">{{ detalle.salario | number:'1.2-2' }}</td>
                <td style="text-align: right;">{{ detalle.monto_dia | number:'1.2-2' }}</td>
                <td style="text-align: center;">{{ detalle.dias_reembolso }}</td>
                <td style="text-align: right;">{{ (detalle.monto_dia * detalle.dias_reembolso) | number:'1.2-2' }}</td>
                <td style="text-align: right; font-weight: bold; color: #d32f2f;">{{ detalle.monto_reembolso | number:'1.2-2' }}</td>
                <td>{{ detalle.observaciones || '' }}</td>
                <td style="text-align: center;" *ngIf="solicitudReembolso?.estado === 0">
                  <button pButton icon="pi pi-trash" class="p-button-danger p-button-sm p-button-text" (click)="eliminarDetalle(getIndexInFullArray(detalle))"></button>
                </td>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="emptymessage">
              <tr>
                <td [attr.colspan]="solicitudReembolso?.estado === 0 ? 14 : 13" style="text-align: center; padding: 2rem;">
                  <div style="color: #6c757d;">
                    <i class="pi pi-info-circle" style="font-size: 2rem; margin-bottom: 1rem; color: #dee2e6;"></i>
                    <p>No hay registros de enfermedad común</p>
                    <p style="font-size: 0.9rem;">Utilice el botón "Buscar Trabajador" para agregar trabajadores.</p>
                  </div>
                </td>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="summary">
              <div style="background: #ffebee; padding: 1rem; font-weight: bold; text-align: right; border-top: 2px solid #ff6b6b;">
                TOTAL ENFERMEDAD COMÚN: {{ totalesPorTipo.ENFERMEDAD.monto | number:'1.2-2' }} Bs
              </div>
            </ng-template>
          </p-table>
        </p-tabPanel>
        
        <!-- PESTAÑA MATERNIDAD -->
        <p-tabPanel [disabled]="detallesPorTipo.MATERNIDAD.length === 0">
          <ng-template pTemplate="header">
            <span>MATERNIDAD ({{ totalesPorTipo.MATERNIDAD.trabajadores }})</span>
          </ng-template>
          
          <p-table 
            [value]="detallesPorTipo.MATERNIDAD"
            styleClass="p-datatable-sm p-datatable-striped tabla-maternidad">
            
            <ng-template pTemplate="header">
              <tr style="background-color: #4ecdc4; color: white; font-size: 11px;">
                <th rowspan="2" style="text-align: center; vertical-align: middle;">N°</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">NOMBRE</th>
                <th colspan="2" style="text-align: center;">BAJA MÉDICA</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">DÍA</th>
                <th colspan="2" style="text-align: center;">LA PAZ</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>GANADO</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>DÍA</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">DÍAS<br>CBES</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>(90%)</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">OBSERVACIÓN</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;" *ngIf="solicitudReembolso?.estado === 0">ACCIONES</th>
              </tr>
              <tr style="background-color: #b2dfdb; color: #00695c; font-size: 10px;">
                <th style="text-align: center;">Empiezo</th>
                <th style="text-align: center;">Termino</th>
                <th style="text-align: center;">DE</th>
                <th style="text-align: center;">A</th>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="body" let-detalle let-i="rowIndex">
              <tr style="font-size: 11px;">
                <td style="text-align: center;">{{ detalle.nro }}</td>
                <td style="font-weight: 500;">{{ detalle.apellido_paterno }} {{ detalle.apellido_materno }}, {{ detalle.nombres }}</td>
                <td style="text-align: center;">{{ detalle.fecha_inicio_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.fecha_fin_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.dias_incapacidad }}</td>
                <td style="text-align: center;">{{ detalle.fecha_inicio_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.fecha_fin_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: right;">{{ detalle.salario | number:'1.2-2' }}</td>
                <td style="text-align: right;">{{ detalle.monto_dia | number:'1.2-2' }}</td>
                <td style="text-align: center;">{{ detalle.dias_reembolso }}</td>
                <td style="text-align: right;">{{ (detalle.monto_dia * detalle.dias_reembolso) | number:'1.2-2' }}</td>
                <td style="text-align: right; font-weight: bold; color: #00796b;">{{ detalle.monto_reembolso | number:'1.2-2' }}</td>
                <td>{{ detalle.observaciones || '' }}</td>
                <td style="text-align: center;" *ngIf="solicitudReembolso?.estado === 0">
                  <button pButton icon="pi pi-trash" class="p-button-danger p-button-sm p-button-text" (click)="eliminarDetalle(getIndexInFullArray(detalle))"></button>
                </td>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="emptymessage">
              <tr>
                <td [attr.colspan]="solicitudReembolso?.estado === 0 ? 14 : 13" style="text-align: center; padding: 2rem;">
                  <div style="color: #6c757d;">
                    <i class="pi pi-info-circle" style="font-size: 2rem; margin-bottom: 1rem; color: #dee2e6;"></i>
                    <p>No hay registros de maternidad</p>
                    <p style="font-size: 0.9rem;">Utilice el botón "Buscar Trabajador" para agregar trabajadores.</p>
                  </div>
                </td>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="summary">
              <div style="background: #e0f2f1; padding: 1rem; font-weight: bold; text-align: right; border-top: 2px solid #4ecdc4;">
                TOTAL MATERNIDAD: {{ totalesPorTipo.MATERNIDAD.monto | number:'1.2-2' }} Bs
              </div>
            </ng-template>
          </p-table>
        </p-tabPanel>
        
        <!-- PESTAÑA RIESGO PROFESIONAL -->
        <p-tabPanel [disabled]="detallesPorTipo.PROFESIONAL.length === 0">
          <ng-template pTemplate="header">
            <span>RIESGO PROFESIONAL ({{ totalesPorTipo.PROFESIONAL.trabajadores }})</span>
          </ng-template>
          
          <p-table 
            [value]="detallesPorTipo.PROFESIONAL"
            styleClass="p-datatable-sm p-datatable-striped tabla-profesional">
            
            <ng-template pTemplate="header">
              <tr style="background-color: #45b7d1; color: white; font-size: 11px;">
                <th rowspan="2" style="text-align: center; vertical-align: middle;">N°</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">NOMBRE</th>
                <th colspan="2" style="text-align: center;">BAJA MÉDICA</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">DÍA</th>
                <th colspan="2" style="text-align: center;">LA PAZ</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>GANADO</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>DÍA</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">DÍAS<br>CBES</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">TOTAL<br>(90%)</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;">OBSERVACIÓN</th>
                <th rowspan="2" style="text-align: center; vertical-align: middle;" *ngIf="solicitudReembolso?.estado === 0">ACCIONES</th>
              </tr>
              <tr style="background-color: #bbdefb; color: #1565c0; font-size: 10px;">
                <th style="text-align: center;">Empiezo</th>
                <th style="text-align: center;">Termino</th>
                <th style="text-align: center;">DE</th>
                <th style="text-align: center;">A</th>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="body" let-detalle let-i="rowIndex">
              <tr style="font-size: 11px;">
                <td style="text-align: center;">{{ detalle.nro }}</td>
                <td style="font-weight: 500;">{{ detalle.apellido_paterno }} {{ detalle.apellido_materno }}, {{ detalle.nombres }}</td>
                <td style="text-align: center;">{{ detalle.fecha_inicio_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.fecha_fin_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.dias_incapacidad }}</td>
                <td style="text-align: center;">{{ detalle.fecha_inicio_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: center;">{{ detalle.fecha_fin_baja | date:'dd/MM/yy' }}</td>
                <td style="text-align: right;">{{ detalle.salario | number:'1.2-2' }}</td>
                <td style="text-align: right;">{{ detalle.monto_dia | number:'1.2-2' }}</td>
                <td style="text-align: center;">{{ detalle.dias_reembolso }}</td>
                <td style="text-align: right;">{{ (detalle.monto_dia * detalle.dias_reembolso) | number:'1.2-2' }}</td>
                <td style="text-align: right; font-weight: bold; color: #1976d2;">{{ detalle.monto_reembolso | number:'1.2-2' }}</td>
                <td>{{ detalle.observaciones || '' }}</td>
                <td style="text-align: center;" *ngIf="solicitudReembolso?.estado === 0">
                  <button pButton icon="pi pi-trash" class="p-button-danger p-button-sm p-button-text" (click)="eliminarDetalle(getIndexInFullArray(detalle))"></button>
                </td>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="emptymessage">
              <tr>
                <td [attr.colspan]="solicitudReembolso?.estado === 0 ? 14 : 13" style="text-align: center; padding: 2rem;">
                  <div style="color: #6c757d;">
                    <i class="pi pi-info-circle" style="font-size: 2rem; margin-bottom: 1rem; color: #dee2e6;"></i>
                    <p>No hay registros de riesgo profesional</p>
                    <p style="font-size: 0.9rem;">Utilice el botón "Buscar Trabajador" para agregar trabajadores.</p>
                  </div>
                </td>
              </tr>
            </ng-template>
            
            <ng-template pTemplate="summary">
              <div style="background: #e3f2fd; padding: 1rem; font-weight: bold; text-align: right; border-top: 2px solid #45b7d1;">
                TOTAL RIESGO PROFESIONAL: {{ totalesPorTipo.PROFESIONAL.monto | number:'1.2-2' }} Bs
              </div>
            </ng-template>
          </p-table>
        </p-tabPanel>
        
      </p-tabView>
    </div>
  </div>
  
  <!-- Dialog para buscar trabajador -->
  <p-dialog 
    header="Buscar Trabajador y Bajas Médicas" 
    [(visible)]="mostrarBuscarTrabajador" 
    [modal]="true" 
    [style]="{width: '90vw', maxWidth: '1400px'}"
    [closable]="true"
    [maximizable]="true">
    
    <app-buscar-trabajador 
      [codPatronal]="solicitudReembolso?.cod_patronal || ''"
      [mes]="solicitudReembolso?.mes || ''"
      [gestion]="solicitudReembolso?.gestion || ''"
      (detalleSeleccionado)="onDetalleSeleccionado($event)">
    </app-buscar-trabajador>
  </p-dialog>